@page "/counter"
@rendermode InteractiveServer

<PageTitle>Counter</PageTitle>

<h1>Counter</h1>

<p role="status">Current count: @currentCount</p>


<MudFab Color="Color.Primary" @onclick="IncrementCount"  StartIcon="@Icons.Material.Filled.Add" />
<MudFab Color="Color.Secondary" @onclick="DeccrementCount" StartIcon="@Icons.Material.Filled.Edit" />
@code {
    private int currentCount = 0;

    private void IncrementCount()
    {
        currentCount++;
    }
    private void DeccrementCount()
    {
        currentCount--;
    }
}


<style>
    .chat_container {
        padding: 0 10em 0 10em;
    }

    .chatsend_left, .chatsend_right {
        background-color: none;
    }
</style>
<MudContainer Class="mt-16 chat_container" MaxWidth="MaxWidth.Medium">
    <MudChat ChatPosition="ChatBubblePosition.End">
        <MudChatBubble>
            You underestimate my power!
        </MudChatBubble>
    </MudChat>
    <MudChat ChatPosition="ChatBubblePosition.Start">
        <MudChatBubble>
            It's over Anakin
        </MudChatBubble>
        <MudChatBubble>
            I have the high ground.
        </MudChatBubble>
        <MudChatBubble>
            <MudCard>
                <MudCardHeader>
                    <CardHeaderAvatar>
                        <MudAvatar Color="Color.Secondary">I</MudAvatar>
                    </CardHeaderAvatar>
                    <CardHeaderContent>
                        <MudText Typo="Typo.body1">Istra Croatia</MudText>
                        <MudText Typo="Typo.body2">Peninsula in Europe</MudText>
                    </CardHeaderContent>
                    <CardHeaderActions>
                        <MudIconButton Icon="@Icons.Material.Filled.Settings" Color="Color.Default" />
                    </CardHeaderActions>
                </MudCardHeader>
                <MudCardMedia Image="assets/images/01.webp" Height="250" />
                <MudCardContent>
                    <MudText Typo="Typo.body2">This photo was taken in a small village in Istra Croatia.</MudText>
                </MudCardContent>
                <MudCardActions>
                    <MudIconButton Icon="@Icons.Material.Filled.Favorite" Color="Color.Default" />
                    <MudIconButton Icon="@Icons.Material.Filled.Share" Color="Color.Default" />
                </MudCardActions>
            </MudCard>
        </MudChatBubble>
        <MudChatBubble>
            <MudPaper Class="doc-section-component-container">
                <MudChart ChartType="ChartType.Bar" ChartSeries="@_series" @bind-SelectedIndex="_index" XAxisLabels="@_xAxisLabels" Width="@_width" Height="@_height" AxisChartOptions="_axisChartOptions"></MudChart>
            </MudPaper>

            <MudGrid>
                <MudItem xs="6">
                    <MudText Typo="Typo.body1" Class="py-3">Selected: @(_index < 0 ? "None" : _series[_index].Name)</MudText>
                </MudItem>
                <MudItem md="6" xs="12">
                    <MudCheckBox @bind-Value="_axisChartOptions.MatchBoundsToSize" Color="Color.Primary" Label="MatchBoundsToSize"></MudCheckBox>
                </MudItem>
                <MudItem md="6" xs="12">
                    <MudTextField @bind-Value="_width" Label="Chart Width"></MudTextField>
                </MudItem>
                <MudItem md="6" xs="12">
                    <MudTextField @bind-Value="_height" Label="Chart Height"></MudTextField>
                </MudItem>
                <MudItem md="6" xs="12">
                    <MudStack>
                        <MudText Typo="Typo.body1">XAxis Label Rotation</MudText>
                        <MudSlider @bind-Value="_axisChartOptions.XAxisLabelRotation" Min="0" Max="90" Step="15"></MudSlider>
                    </MudStack>
                </MudItem>
            </MudGrid>

            @code {
                private int _index = -1; //default value cannot be 0 -> first selectedindex is 0.
                private string _width = "650px";
                private string _height = "350px";
                private AxisChartOptions _axisChartOptions = new AxisChartOptions();

                private List<ChartSeries> _series = new List<ChartSeries>()
                        {
                        new ChartSeries() { Name = "United States", Data = new double[] { 40, 20, 25, 27, 46, 60, 48, 80, 15 } },
                        new ChartSeries() { Name = "Germany", Data = new double[] { 19, 24, 35, 13, 28, 15, 13, 16, 31 } },
                        new ChartSeries() { Name = "Sweden", Data = new double[] { 8, 6, 11, 13, 4, 16, 10, 16, 18 } },
                        };
                private string[] _xAxisLabels = { "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep" };
            }
        </MudChatBubble>
    </MudChat>
    <MudChat ChatPosition="ChatBubblePosition.End">
        <MudChatBubble>
            You underestimate my power!
        </MudChatBubble>
    </MudChat>
    <MudChat ChatPosition="ChatBubblePosition.Start">
        <MudChatBubble>
            <div>
                <MudChart ChartType="ChartType.Line" ChartSeries="@Series" XAxisLabels="@XAxisLabels" Width="100%" Height="350px" CanHideSeries />
                <MudButton Variant="Variant.Filled" @onclick="RandomizeData">Randomize data</MudButton>
            </div>

            @code {

                protected override void OnInitialized()
                {
                    base.OnInitialized();
                    RandomizeData();
                }

                public List<ChartSeries> Series = new List<ChartSeries>();
                public string[] XAxisLabels = { "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep" };

                Random random = new Random();
                public void RandomizeData()
                {
                    var newSeries = new List<ChartSeries>();
                    for (int s = 1; s <= 10; s++)
                    {
                        var series = new ChartSeries() { Name = $"Series {s}", Data = new double[9] };
                        for (int i = 0; i < 9; i++)
                            series.Data[i] = random.NextDouble() * 100;
                        newSeries.Add(series);
                    }
                    Series = newSeries;
                    StateHasChanged();
                }
            }
        </MudChatBubble>
    </MudChat>
    <MudChat ChatPosition="ChatBubblePosition.End">
        <MudChatBubble>
            You underestimate my power!
        </MudChatBubble>
    </MudChat>
    <MudChat ChatPosition="ChatBubblePosition.Start">
        <MudChatBubble>
            <MudSimpleTable Dense="@dense" Hover="@hover" Bordered="@bordered" Striped="@striped" Style="overflow-x: auto;">
                <thead>
                    <tr>
                        @foreach (var h in headings)
                        {
                            <th>@h</th>
                        }
                    </tr>
                </thead>
                <tbody>
                    @foreach (var row in rows)
                    {
                        <tr>
                            @foreach (var x in row.Split())
                            {
                                <td>@x</td>
                            }
                        </tr>
                    }
                </tbody>
            </MudSimpleTable>
            <MudToolBar>
                <MudSwitch @bind-Value="hover" Color="Color.Primary">Hover</MudSwitch>
                <MudSwitch @bind-Value="dense" Color="Color.Secondary">Dense</MudSwitch>
                <MudSwitch @bind-Value="striped" Color="Color.Tertiary">Striped</MudSwitch>
                <MudSwitch @bind-Value="bordered" Color="Color.Warning">Bordered</MudSwitch>
            </MudToolBar>

            @code {
                private bool dense = false;
                private bool hover = true;
                private bool striped = false;
                private bool bordered = false;

                string[] headings = { "ID", "Name", "Email", "Gender", "IP Address" };
                string[] rows = {
                        @"1 Krishna kpartner0@usatoday.com Male 28.25.250.202",
                        @"2 Webb wstitle1@ning.com Male 237.168.134.114",
                        @"3 Nathanil nneal2@cyberchimps.com Male 92.6.0.175",
                        @"4 Adara alockwood3@patch.com Female 182.174.217.152",
                        @"5 Cecilius cchaplin4@shinystat.com Male 195.124.144.18",
                        @"6 Cicely cemerine9@soup.io Female 138.94.191.43",
                        };
            }
        </MudChatBubble>
    </MudChat>
    <MudChat ChatPosition="ChatBubblePosition.End">
        <MudChatBubble>
            You underestimate my power!
        </MudChatBubble>
    </MudChat>
    <MudChat ChatPosition="ChatBubblePosition.Start">
        <MudChatBubble>
            <MudCarousel Class="mud-width-full" TData="object">
                <MudCarouselItem>
                    <div class="d-flex" style="height:100%">
                        <MudImage Fluid="true" Src="assets/images/03.webp" Alt="Swedish Farm House" Class="rounded-lg" />
                    </div>
                </MudCarouselItem>
                <MudCarouselItem>
                    <div class="d-flex" style="height:100%">
                        <MudImage Fluid="true" Src="assets/images/02.webp" Alt="Swedish Farm House" Class="rounded-lg" />
                    </div>
                </MudCarouselItem>
                <MudCarouselItem>
                    <div class="d-flex" style="height:100%">
                        <MudImage Fluid="true" Src="assets/images/01.webp" Alt="Swedish Farm House" Class="rounded-lg" />
                    </div>
                </MudCarouselItem>
            </MudCarousel>
        </MudChatBubble>
    </MudChat>
    <MudGrid>
        <MudItem xs="12" sm="12">
            <MudPaper Style="background-color:none;">
                <MudText Typo="Typo.h3">h3. Heading</MudText>
            </MudPaper>
        </MudItem>
        <MudItem xs="12" sm="12">
            <MudPaper Class="mud-elevation-0" Style="background-color:none;">
                <MudTextField @bind-Value="_string" Label="Clearable Standard" Variant="Variant.Text" Clearable="true" Adornment="Adornment.End" AdornmentIcon="@Icons.Custom.Brands.MudBlazor" AdornmentColor="Color.Primary" Immediate="true" />
                @code {
                    string _string;
                }
            </MudPaper>
        </MudItem>
        <MudItem xs="6" sm="6" Class="pt-0 chatsend_left">
            <MudPaper Class="justify-center mud-width-full mud-elevation-0" Style="background-color:none;">
                <MudIconButton Icon="@Icons.Material.Filled.Share" Disabled="true" aria-label="share" />
            </MudPaper>
        </MudItem>
        <MudItem xs="6" sm="6" Class="pt-0 chatsend_right">
            <MudPaper Class="d-flex align-end justify-end mud-width-full mud-elevation-0" Style="background-color:none;">
                @* <MudIconButton Icon="@Icons.Material.Filled.Add"  aria-label="share" />
                <MudIconButton Icon="@Icons.Material.Filled.KeyboardVoice" aria-label="share" /> *@
                <MudIconButton Icon="@Icons.Material.Filled.Add" @onclick="OnAddClick" aria-label="Add" />
                <MudIconButton Icon="@Icons.Material.Filled.KeyboardVoice" @onclick="OnVoiceClick" aria-label="Voice" />
            </MudPaper>
        </MudItem>
    </MudGrid>
</MudContainer>
@code {
    private void OnAddClick()
    {
        // Your logic here
        Console.WriteLine("Add clicked");
    }

    private void OnVoiceClick()
    {
        // Your logic here
        Console.WriteLine("Voice clicked");
    }
}
